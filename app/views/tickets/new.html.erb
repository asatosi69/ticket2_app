<br>
<br>
<h1>『チケット予約』を登録</h1>
<br>
<br>
<%= form_with model: @ticket do |form| %>
<%= render 'shared/error_messages', model: form.object %>
<p>
  <% if current_seller.admin_flag? %>
    <%= form.label(:seller_id, Ticket.human_attribute_name(:seller_id), class:'control-label') %>
    <%= form.collection_select(:seller_id, Seller.all, :id, :name, {prompt: :seller_id}, {:required => true, class: "form-control input-sm"}) %>
  <% else %>
    <%= form.hidden_field :seller_id, value: current_seller.id %>
  <% end %>
</p>
<p>
  <%= form.label(:stage_id, Ticket.human_attribute_name(:stage_id), class:'control-label') %>
  <% if current_seller.admin_flag? %>
    <%= form.collection_select(:stage_id, Stage.all.order(stage: "ASC"), :id, :stage, {prompt: :stage_id}, {:required => true, class: "form-control input-sm"},) %>
  <% else %>
    <%= form.collection_select(:stage_id, Stage.where(end_flag: false).order(stage: "ASC"), :id, :stage,  {prompt: :stage_id}, {:required => true, class: "form-control input-sm"}) %>
  <% end %>
</p>
<p>
  <%= form.label(:kind_id, Ticket.human_attribute_name(:kind_id), class:'control-label') %>
  <% if current_seller.admin_flag? %>
    <%= form.collection_select(:kind_id, Kind.all.order(kind: "ASC"), :id, :kind,  {prompt: :kind_id}, {:required => true, class: "form-control input-sm"}) %>
  <% else %>
    <%= form.collection_select(:kind_id, Kind.where(end_flag: false).order(kind: "ASC"), :id, :kind,  {prompt: :kind_id}, {:required => true, class: "form-control input-sm"}) %>
  <% end %>
</p>
<p>
  <%= form.label(:payment_id, Ticket.human_attribute_name(:payment_id), class:'control-label') %>
  <%= form.collection_select(:payment_id, Payment.all.order(payment: "ASC"), :id, :payment, {prompt: :payment_id}, {:required => true, class: "form-control input-sm"}) %>
</p>
<p>
  <%= form.label(:count, Ticket.human_attribute_name(:count), class:'control-label') %>
  <%= form.select :count, [["1枚", 1], ["2枚", 2],  ["3枚", 3], ["4枚", 4],["5枚", 5] ], {prompt: :count}, {:required => true, class: "form-control"} %>
</p>
<p>
  <%= form.label(:buyer_name, Ticket.human_attribute_name(:buyer_name), class:'control-label') %>
  <%= form.text_field :buyer_name, class: 'form-control' %>
</p>
<p>
  <%= form.label(:buyer_furigana, Ticket.human_attribute_name(:buyer_furigana), class:'control-label') %>
  <%= form.text_field :buyer_furigana, class: 'form-control' %>
</p>
<p>
  <%= form.label(:buyer_mail, Ticket.human_attribute_name(:buyer_mail), class:'control-label') %>
  <%= form.email_field :buyer_mail, class: 'form-control' %>
</p>
<p>
  <%= form.label(:comment1, Ticket.human_attribute_name(:comment1), class:'control-label') %>
  <%= form.text_area :comment1, size: "50x20", class: 'form-control' %>
</p>
<p>
  <%= form.label(:comment2, Ticket.human_attribute_name(:comment2), class:'control-label') %>
  <%= form.text_area :comment2, size: "50x20", class: 'form-control' %>
</p>
<p>
  <%= form.submit "登録" %>
  <%= form.submit "連続登録", name: "Renzoku" %>
  <%= link_to :back, :style=>"color:black" do %>
    <button>戻る</button>
  <% end %>
</p>
<% end %>
